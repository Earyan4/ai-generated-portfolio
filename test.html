<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio System Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .success { color: #28a745; }
        .error { color: #dc3545; }
        .warning { color: #ffc107; }
        .btn {
            background: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            margin: 5px;
        }
        .btn:hover { background: #0056b3; }
        .btn-success { background: #28a745; }
        .btn-warning { background: #ffc107; color: #000; }
    </style>
</head>
<body>
    <h1>üß™ Portfolio System Test</h1>
    
    <div class="test-section">
        <h2>System Status</h2>
        <div id="status">
            <p>Checking system components...</p>
        </div>
    </div>

    <div class="test-section">
        <h2>Quick Actions</h2>
        <a href="index.html" class="btn">üè† Main Page</a>
        <a href="premium-form.html" class="btn btn-success">‚ú® Create Portfolio</a>
        <a href="portfolio-viewer.html" class="btn">üëÅÔ∏è View Portfolios</a>
        <a href="portfolio-builder.html" class="btn btn-warning">üîß Alternative Builder</a>
    </div>

    <div class="test-section">
        <h2>File Structure Check</h2>
        <div id="files">
            <p>Checking required files...</p>
        </div>
    </div>

    <div class="test-section">
        <h2>API Test</h2>
        <button onclick="testAPI()" class="btn">Test API Connection</button>
        <div id="apiResult"></div>
    </div>

    <div class="test-section">
        <h2>Instructions</h2>
        <ol>
            <li><strong>For Local Testing:</strong> Use XAMPP, WAMP, or MAMP to run PHP</li>
            <li><strong>For Production:</strong> Upload to a web server with PHP and MySQL</li>
            <li><strong>Database Setup:</strong> Import <code>api/database/schema.sql</code> into MySQL</li>
            <li><strong>Configuration:</strong> Update database credentials in <code>api/config/database.php</code></li>
        </ol>
    </div>

    <script>
        // Check file structure
        function checkFiles() {
            const files = [
                'index.html',
                'premium-form.html',
                'portfolio-viewer.html',
                'portfolio-builder.html',
                'api/index.php',
                'api/config/database.php',
                'api/controllers/UserController.php',
                'api/controllers/PortfolioController.php',
                'api/database/schema.sql',
                '.htaccess'
            ];

            const fileStatus = document.getElementById('files');
            let html = '<ul>';

            files.forEach(file => {
                // In a real environment, we'd check if files exist
                // For now, we'll assume they exist since we're in the project directory
                html += `<li class="success">‚úÖ ${file}</li>`;
            });

            html += '</ul>';
            fileStatus.innerHTML = html;
        }

        // Test API connection
        async function testAPI() {
            const resultDiv = document.getElementById('apiResult');
            resultDiv.innerHTML = '<p>Testing API connection...</p>';

            try {
                const response = await fetch('api/index.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        action: 'test'
                    })
                });

                if (response.ok) {
                    resultDiv.innerHTML = '<p class="success">‚úÖ API is responding!</p>';
                } else {
                    resultDiv.innerHTML = '<p class="warning">‚ö†Ô∏è API responded but may not be fully configured</p>';
                }
            } catch (error) {
                resultDiv.innerHTML = `<p class="error">‚ùå API Error: ${error.message}</p>
                <p>This is expected if PHP is not running. Please set up a local server (XAMPP, WAMP, etc.)</p>`;
            }
        }

        // Check system status
        function checkStatus() {
            const statusDiv = document.getElementById('status');
            let html = '<ul>';

            // Check if we're in a web server environment
            if (window.location.protocol === 'file:') {
                html += '<li class="warning">‚ö†Ô∏è Running from file system - PHP will not work</li>';
                html += '<li class="warning">‚ö†Ô∏è Please use a web server (XAMPP, WAMP, etc.)</li>';
            } else {
                html += '<li class="success">‚úÖ Running on web server</li>';
            }

            // Check browser compatibility
            if (typeof fetch !== 'undefined') {
                html += '<li class="success">‚úÖ Modern browser (fetch API available)</li>';
            } else {
                html += '<li class="error">‚ùå Browser too old (fetch API not available)</li>';
            }

            // Check if we can access the API directory
            html += '<li class="success">‚úÖ Project files are accessible</li>';

            html += '</ul>';
            statusDiv.innerHTML = html;
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            checkStatus();
            checkFiles();
        });
    </script>
</body>
</html>

